<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Beacon's blog"><title>遇到的那些坑 | 灯塔</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">遇到的那些坑</h1><a id="logo" href="/.">灯塔</a><p class="description">灯塔引路,至那些曾经和我一样在技术路上迷茫的你们。</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/subject/"><i class="fa fa-tag"> 专题</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">遇到的那些坑</h1><div class="post-meta">Aug 20, 2016<span> | </span><span class="category"><a href="/categories/technology/">technology</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2016/08/20/centos-faq/" href="/2016/08/20/centos-faq/#comments" class="ds-thread-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#更新yum-源"><span class="toc-number">1.</span> <span class="toc-text">更新yum 源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ifconfig-无效"><span class="toc-number">2.</span> <span class="toc-text">ifconfig 无效</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#命令行挂载VBoxLinuxTools"><span class="toc-number">3.</span> <span class="toc-text">命令行挂载VBoxLinuxTools</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number"></span> <span class="toc-text">JAVA</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装jdk"><span class="toc-number">1.</span> <span class="toc-text">安装jdk</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number"></span> <span class="toc-text">vsftp</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装vsftp"><span class="toc-number">1.</span> <span class="toc-text">安装vsftp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#卸载vsftp"><span class="toc-number">2.</span> <span class="toc-text">卸载vsftp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vi-etc-vsftpd-vsftpd-conf-详解"><span class="toc-number">3.</span> <span class="toc-text">vi /etc/vsftpd/vsftpd.conf  详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#那些偷师的地方"><span class="toc-number">4.</span> <span class="toc-text">那些偷师的地方</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number"></span> <span class="toc-text">想向我提问，那就点击我吧</span></a></div></div><div class="post-content"><h3 id="更新yum-源"><a href="#更新yum-源" class="headerlink" title="更新yum 源"></a>更新yum 源</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">yum</span> update</div></pre></td></tr></table></figure>
<h3 id="ifconfig-无效"><a href="#ifconfig-无效" class="headerlink" title="ifconfig 无效"></a>ifconfig 无效</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">yum search ifconfig <span class="comment">// 看看需要安装什么</span></div><div class="line"><span class="comment">// 会提示安装</span></div><div class="line">yum install network-tools<span class="selector-class">.x86_x64</span></div><div class="line"><span class="comment">// 喝杯coffee 等待中...</span></div><div class="line"> ifconfig</div></pre></td></tr></table></figure>
<p>成功运行了，这时候你是不是和我当初一样有疑惑，windows里的ipconfig命令到了linux为什么有事还不是必须安装的，博主看了一下资料，原来ifconfig命令来源于net-tools，这个包里有ifconfig，netstat，whois等命令，所以之前这些命令你都是运行不了的</p>
<h3 id="命令行挂载VBoxLinuxTools"><a href="#命令行挂载VBoxLinuxTools" class="headerlink" title="命令行挂载VBoxLinuxTools"></a>命令行挂载VBoxLinuxTools</h3><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># mount  /dev/cdrom/   /mnt</span></div><div class="line"><span class="meta"># cd /mnt</span></div><div class="line"><span class="meta"># sh ./VBoxLinux.sh // 如果安装失败，看看提示，可能有些包没安装 如：biz2 gcc 等</span></div></pre></td></tr></table></figure>
<p>windon7 中，我的共享文件名称叫project </p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mkdir <span class="meta-keyword">/mnt/</span>share</div><div class="line">mount -t vboxsf project <span class="meta-keyword">/mnt/</span>share</div><div class="line">cd <span class="meta-keyword">/mnt/</span>share <span class="comment">// 这里就是共享的文件夹，不妨在win7 中掉一些文件进去试试，这样就能替代vsftp 的一些工作理论</span></div><div class="line"><span class="comment">// 此外，如果选择了自动挂载可以 用mount 查看是否有挂载文件</span></div><div class="line"><span class="meta"># mount</span></div><div class="line"><span class="comment">// 一般会提示在 /mdeia/sf_project 中挂载了，不妨去试试</span></div><div class="line">cd <span class="meta-keyword">/media/</span>sf_project</div></pre></td></tr></table></figure>
<h1 style="text-align:center;border-bottom:3px solid #333;margin:0 auto;width:100px;">JAVA</h1>

<h3 id="安装jdk"><a href="#安装jdk" class="headerlink" title="安装jdk"></a>安装jdk</h3><ul>
<li>1) win7 下载jdk,放到jdk到共享文件夹中</li>
<li>2）在vhost,虚拟机中访问共享文件夹，解压文件 tar -zxvf jdkXXX.tar.gz</li>
<li>3）由于我的centos是最简版，参不多裸机，什么都没安装，如果你想安装，最好先检查一下是否已经安装了jdk 或openJDK,如果没有安装忽略此步骤。最好还是先卸载掉openjdk,在安装sun公司的jdk.</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// 查看jdk 版本</div><div class="line">java -<span class="keyword">version</span></div><div class="line">// 查看java 服务进程</div><div class="line">rpm -<span class="keyword">qa</span> | <span class="keyword">grep</span> java</div><div class="line">rpm -<span class="keyword">qa</span> | <span class="keyword">grep</span> jdk</div><div class="line">// 卸载：</div><div class="line">yum -<span class="keyword">y</span> <span class="built_in">remove</span> java jdk名称（上一条命令）</div></pre></td></tr></table></figure>
<ul>
<li>4）安装</li>
</ul>
<p>通过终端在/usr/local目录下新建java文件夹，命令行</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo <span class="built_in">mkdir</span> /usr/<span class="built_in">local</span>/java</div></pre></td></tr></table></figure>
<p>然后将下载到压缩包拷贝到java文件夹中，命令行：<br>进入jdk源码包所在目录</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cp jdk-<span class="number">7</span>u45-linux-x64<span class="selector-class">.tar</span><span class="selector-class">.gz</span> /usr/local/java</div></pre></td></tr></table></figure>
<p>然后进入java目录，命令行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/java</div></pre></td></tr></table></figure>
<p>解压压缩包，命令行：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo tar xvf jdk-<span class="number">7</span>u45-linux-x64<span class="selector-class">.tar</span><span class="selector-class">.gz</span></div></pre></td></tr></table></figure>
<p>然后可以把压缩包删除，命令行：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo rm jdk-<span class="number">7</span>u45-linux-x64<span class="selector-class">.tar</span><span class="selector-class">.gz</span></div></pre></td></tr></table></figure>
<ul>
<li>5)设置jdk环境变量<br>这里采用全局设置方法，就是修改etc/profile，它是是所有用户的共用的环境变量</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo <span class="keyword">vi</span> /etc/<span class="keyword">profile</span></div></pre></td></tr></table></figure>
<p>打开之后在末尾添加</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">export JAVA_HOME=<span class="regexp">/usr/java</span><span class="regexp">/jdk1.6.0_10 </span></div><div class="line">export CLASSPATH=.:$JAVA_HOME/jre<span class="regexp">/lib/rt</span>.<span class="symbol">jar:</span>$JAVA_HOME/<span class="class"><span class="keyword">lib</span>/<span class="title">dt</span>.<span class="title">jar</span>:$<span class="title">JAVA_HOME</span>/<span class="title">lib</span>/<span class="title">tools</span>.<span class="title">jar</span> </span></div><div class="line">export PATH=$<span class="symbol">PATH:</span>$JAVA_HOME/bin</div></pre></td></tr></table></figure>
<p>请记住，在上述添加过程中，等号两侧不要加入空格，不然会出现“不是有效的标识符”，因为source /etc/profile 时不能识别多余到空格，会理解为是路径一部分。<br>然后保存</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">source</span> <span class="regexp">/etc/</span>profile</div></pre></td></tr></table></figure>
<p>使profile生效<br>FAQ: /bin/ls 可以操作命令 </p>
<ul>
<li>6)检验是否安装成功<br>在终端</li>
</ul>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">java -<span class="built_in">version</span></div></pre></td></tr></table></figure>
<p>看看是否安装成功<br>成功则显示如下<br>java version “1.7.0_45”<br>Java(TM) SE Runtime Environment (build 1.7.0_45-b18)<br>Java HotSpot(TM) 64-Bit Server VM (build 24.45-b08, mixed mode)</p>
<h1 style="text-align:center;border-bottom:3px solid #333;margin:0 auto;width:100px;">vsftp</h1>


<blockquote>
<p>主要涉及到的配置文件<br>vi /etc/vsftpd/vsftpd.conf  —————————配置目录<br>/var/ftp/    ———————————–vsftp默认文件目录:<br>/etc/vsftpd/user_list     ———————–允许用户访问FTP，配置的用户白名单<br>/etc/vsftpd/ftpusers —————————- </p>
</blockquote>
<h3 id="安装vsftp"><a href="#安装vsftp" class="headerlink" title="安装vsftp"></a>安装vsftp</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y <span class="keyword">install</span> vsftpd</div></pre></td></tr></table></figure>
<h3 id="卸载vsftp"><a href="#卸载vsftp" class="headerlink" title="卸载vsftp"></a>卸载vsftp</h3><p>如果服务器上安装了vsftpd，配置出错需要卸载vsftpd<br>此处是查找vsftpd的返回结果</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">rpm</span> -aq vsftpd</div></pre></td></tr></table></figure>
<p>用rpm -e 查找结果 进行删除就ok了,先要停了vsftp  /sbin/service vsftpd stop</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">rpm</span> <span class="selector-tag">-e</span> <span class="selector-tag">vsftpd-2</span><span class="selector-class">.0</span><span class="selector-class">.5-16</span><span class="selector-class">.el5_5</span><span class="selector-class">.1</span></div></pre></td></tr></table></figure>
<h3 id="vi-etc-vsftpd-vsftpd-conf-详解"><a href="#vi-etc-vsftpd-vsftpd-conf-详解" class="headerlink" title="vi /etc/vsftpd/vsftpd.conf  详解"></a>vi /etc/vsftpd/vsftpd.conf  详解</h3><p><a href="http://www.w3cways.com/1509.html" target="_blank" rel="external">http://www.w3cways.com/1509.html</a></p>
<p>vsftpd 默认配置<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># Example config file /etc/vsftpd/vsftpd.conf</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># The default compiled in settings are fairly paranoid. This sample file</span></div><div class="line"><span class="meta"># loosens things up a bit, to make the ftp daemon more usable.</span></div><div class="line"><span class="meta"># Please see vsftpd.conf.5 for all compiled in defaults.</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># READ THIS: This example file is NOT an exhaustive list of vsftpd options.</span></div><div class="line"><span class="meta"># Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd's</span></div><div class="line"><span class="meta"># capabilities.</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Allow anonymous FTP? (Beware - allowed by default if you comment this out).</span></div><div class="line"><span class="meta">#译：允许匿名FTP ? 注意-如果你 声明了情况下默认允许，注释了，就是不允许</span></div><div class="line">anonymous_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this to allow local users to log in.</span></div><div class="line"><span class="meta"># When SELinux is enforcing check for SE bool ftp_home_dir</span></div><div class="line"><span class="meta">#译：没有声明，就这允许本地用户登录。</span></div><div class="line">local_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this to enable any form of FTP write command.</span></div><div class="line"><span class="meta"># 译：没有声明，这使允许任何形式的FTP写命令。</span></div><div class="line">write_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Default umask for local users is 077. You may wish to change this to 022,</span></div><div class="line"><span class="meta"># if your users expect that (022 is used by most other ftpd's)</span></div><div class="line"><span class="meta"># 译：没有声明，这默认采用077作为用户端口，如果你愿意可以声明为022端口，这是大多数ftp所采用的端口号</span></div><div class="line">local_umask=<span class="number">022</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this to allow the anonymous FTP user to upload files. This only</span></div><div class="line"><span class="meta"># has an effect if the above global write enable is activated. Also, you will</span></div><div class="line"><span class="meta"># obviously need to create a directory writable by the FTP user.</span></div><div class="line"><span class="meta"># When SELinux is enforcing check for SE bool allow_ftpd_anon_write, allow_ftpd_full_access</span></div><div class="line"><span class="meta"># 译：没有声明，就允许匿名FTP 用户 去 上传文件，这个声明只有在 write_enable=YES 才有效，当然你也需要给FTP一个可以写权限的文件目录</span></div><div class="line"><span class="meta">#anon_upload_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this if you want the anonymous FTP user to be able to create</span></div><div class="line"><span class="meta"># new directories.</span></div><div class="line"><span class="meta"># 译：不需要声明，如果你需要匿名用户可以创建一个新的目录</span></div><div class="line"><span class="meta">#anon_mkdir_write_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Activate directory messages - messages given to remote users when they</span></div><div class="line"><span class="meta"># go into a certain directory.</span></div><div class="line"><span class="meta"># 译：当成成功访问到ftp的目录，给出提示信息</span></div><div class="line">dirmessage_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Activate logging of uploads/downloads.</span></div><div class="line"><span class="meta"># 译： 激活上传下载操作日志</span></div><div class="line">xferlog_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Make sure PORT transfer connections originate from port 20 (ftp-data).</span></div><div class="line"><span class="meta"># 译：保端口传输连接来源于端口20(ftp上的数据)。</span></div><div class="line">connect_from_port_20=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># If you want, you can arrange for uploaded anonymous files to be owned by</span></div><div class="line"><span class="meta"># a different user. Note! Using "root" for uploaded files is not</span></div><div class="line"><span class="meta"># recommended!</span></div><div class="line"><span class="meta"># 译：如果你需要，你可以配置不同的用户拥有上传匿名文件的权限，但是并不推荐“root”拥有该权限</span></div><div class="line"><span class="meta">#chown_uploads=YES</span></div><div class="line"><span class="meta">#chown_username=whoever</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may override where the log file goes if you like. The default is shown</span></div><div class="line"><span class="meta"># below.</span></div><div class="line"><span class="meta"># 译：你可能覆盖日志文件存放的位置,如果你喜欢。但默认是下面的路径</span></div><div class="line"><span class="meta">#xferlog_file=/var/log/xferlog</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># If you want, you can have your log file in standard ftpd xferlog format.</span></div><div class="line"><span class="meta"># Note that the default log file location is /var/log/xferlog in this case.</span></div><div class="line"><span class="meta"># 译：如果你愿意,你可以有你的日志文件在标准ftpd xferlog格式。默认日志文件在 /var/log/xferlog。</span></div><div class="line">xferlog_std_format=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may change the default value for timing out an idle session.</span></div><div class="line"><span class="meta"># 译：空闲会话超时的默认值，默认600</span></div><div class="line"><span class="meta">#idle_session_timeout=600</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may change the default value for timing out a data connection.</span></div><div class="line"><span class="meta"># 译：连接超时的默认值，默认120</span></div><div class="line"><span class="meta">#data_connection_timeout=120</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># It is recommended that you define on your system a unique user which the</span></div><div class="line"><span class="meta"># ftp server can use as a totally isolated and unprivileged user.</span></div><div class="line"><span class="meta"># 译：声明一个ftp特权用户，是被推荐的</span></div><div class="line"><span class="meta">#nopriv_user=ftpsecure</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Enable this and the server will recognise asynchronous ABOR requests. Not</span></div><div class="line"><span class="meta"># recommended for security (the code is non-trivial). Not enabling it,</span></div><div class="line"><span class="meta"># however, may confuse older FTP clients.</span></div><div class="line"><span class="meta"># 译：声明该配置，服务器将承认异步请求。不建议用于安全，不开启他，就ftp客户端可能无法用。</span></div><div class="line"><span class="meta">#async_abor_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># By default the server will pretend to allow ASCII mode but in fact ignore</span></div><div class="line"><span class="meta"># the request. Turn on the below options to have the server actually do ASCII</span></div><div class="line"><span class="meta"># mangling on files when in ASCII mode.</span></div><div class="line"><span class="meta"># Beware that on some FTP servers, ASCII support allows a denial of service</span></div><div class="line"><span class="meta"># attack (DoS) via the command "SIZE /big/file" in ASCII mode. vsftpd</span></div><div class="line"><span class="meta"># predicted this attack and has always been safe, reporting the size of the</span></div><div class="line"><span class="meta"># raw file.</span></div><div class="line"><span class="meta"># ASCII mangling is a horrible feature of the protocol.</span></div><div class="line"><span class="meta"># 译：认情况下,服务器会假装允许ASCII模式但事实上忽略请求。ASCII是一种可怕的协议改编。不建议使用</span></div><div class="line"><span class="meta">#ascii_upload_enable=YES</span></div><div class="line"><span class="meta">#ascii_download_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may fully customise the login banner string:</span></div><div class="line"><span class="meta"># 译：登录提示信息</span></div><div class="line"><span class="meta">#ftpd_banner=Welcome to blah FTP service.</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may specify a file of disallowed anonymous e-mail addresses. Apparently</span></div><div class="line"><span class="meta"># useful for combatting certain DoS attacks.</span></div><div class="line"><span class="meta"># 译：你可以指定一个文件不允许匿名电子邮件地址。显然对于打击某些DoS攻击很有用。</span></div><div class="line"><span class="meta">#deny_email_enable=YES</span></div><div class="line"><span class="meta"># (default follows)</span></div><div class="line"><span class="meta"># 译：</span></div><div class="line"><span class="meta">#banned_email_file=/etc/vsftpd/banned_emails</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may specify an explicit list of local users to chroot() to their home</span></div><div class="line"><span class="meta"># directory. If chroot_local_user is YES, then this list becomes a list of</span></div><div class="line"><span class="meta"># users to NOT chroot().</span></div><div class="line"><span class="meta"># (Warning! chroot'ing can be very dangerous. If using chroot, make sure that</span></div><div class="line"><span class="meta"># the user does not have write access to the top level directory within the</span></div><div class="line"><span class="meta"># chroot)</span></div><div class="line"><span class="meta"># 译：设置了YES，那么所有的用户默认将被chroot，也就用户目录被限制在了自己的home下，无法向上改变目录。如果chroot_local_user设置了NO，那么chroot_list_file设置的文件里，是被chroot的用户(无法向上改变目录)</span></div><div class="line"><span class="meta">#chroot_local_user=YES</span></div><div class="line"><span class="meta"># 译：设置了YES，即让chroot用户列表有效。</span></div><div class="line"><span class="meta">#chroot_list_enable=YES</span></div><div class="line"><span class="meta"># (default follows)</span></div><div class="line"><span class="meta">#chroot_list_file=/etc/vsftpd/chroot_list</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may activate the "-R" option to the builtin ls. This is disabled by</span></div><div class="line"><span class="meta"># default to avoid remote users being able to cause excessive I/O on large</span></div><div class="line"><span class="meta"># sites. However, some broken FTP clients such as "ncftp" and "mirror" assume</span></div><div class="line"><span class="meta"># the presence of the "-R" option, so there is a strong case for enabling it.</span></div><div class="line"><span class="meta"># 译：不推荐使用</span></div><div class="line"><span class="meta">#ls_recurse_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># When "listen" directive is enabled, vsftpd runs in standalone mode and</span></div><div class="line"><span class="meta"># listens on IPv4 sockets. This directive cannot be used in conjunction</span></div><div class="line"><span class="meta"># with the listen_ipv6 directive.</span></div><div class="line"><span class="meta"># 译：以standalone模式在ipv4上运行</span></div><div class="line">listen=NO</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># This directive enables listening on IPv6 sockets. By default, listening</span></div><div class="line"><span class="meta"># on the IPv6 "any" address (::) will accept connections from both IPv6</span></div><div class="line"><span class="meta"># and IPv4 clients. It is not necessary to listen on *both* IPv4 and IPv6</span></div><div class="line"><span class="meta"># sockets. If you want that (perhaps because you want to listen on specific</span></div><div class="line"><span class="meta"># addresses) then you must run two copies of vsftpd with two configuration</span></div><div class="line"><span class="meta"># files.</span></div><div class="line"><span class="meta"># Make sure, that one of the listen options is commented !!</span></div><div class="line"><span class="meta"># 译： </span></div><div class="line">listen_ipv6=YES</div><div class="line"></div><div class="line"><span class="meta"># 译：PAM认证服务名，这里默认是vsftpd，在安装vsftpd的时候已经创建了这个pam文件，在/etc/pam.d/vsftpd，根据这个pam文件里的设置，/etc/vsftpd/ftpusers,文件里的用户将禁止登录ftp服务器，比如root这样敏感的用户，所以你要禁止别的用户,登录的时候，也可以把该用户追加到/etc/vsftpd/ftpusers里,不允许root访问</span></div><div class="line">pam_service_name=vsftpd</div><div class="line"></div><div class="line">userlist_enable=YES</div><div class="line"></div><div class="line"><span class="meta"># userlist_deny=NO </span></div><div class="line"></div><div class="line"><span class="meta"># 译：指定的登录访问目录</span></div><div class="line"><span class="meta"># local_root=/var/public_root </span></div><div class="line">tcp_wrappers=YES</div><div class="line"><span class="meta"># use_localtime=YES</span></div></pre></td></tr></table></figure></p>
<p>vsftpd 白名单 /etc/vsftpd/user_list </p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># vsftpd userlist</span></div><div class="line"><span class="meta"># If userlist_deny=NO, only allow users in this file</span></div><div class="line"><span class="meta"># If userlist_deny=YES (default), never allow users in this file, and</span></div><div class="line"><span class="meta"># do not even prompt for a password.</span></div><div class="line"><span class="meta"># Note that the default vsftpd pam config also checks /etc/vsftpd/ftpusers</span></div><div class="line"><span class="meta"># for users that are denied.</span></div><div class="line"><span class="meta"># 译：</span></div><div class="line">root</div><div class="line">bin</div><div class="line">daemon</div><div class="line">adm</div><div class="line">lp</div><div class="line">sync</div><div class="line">shutdown</div><div class="line">halt</div><div class="line">mail</div><div class="line">news</div><div class="line">uucp</div><div class="line">operator</div><div class="line">games</div><div class="line">nobody</div></pre></td></tr></table></figure>
<p>vstpd 配置的黑名单默认如下 /etc/vsftpd/ftpusers<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Users that are not allowed to login via ftp，这里可以把root 用户注释，root用户就可以访问了全部文件，这是不安全的，不建议</span></div><div class="line">root</div><div class="line"><span class="keyword">bin</span></div><div class="line">daemon</div><div class="line">adm</div><div class="line">lp</div><div class="line"><span class="keyword">sync</span></div><div class="line"><span class="keyword">shutdown</span></div><div class="line">halt</div><div class="line">mail</div><div class="line">news</div><div class="line">uucp</div><div class="line">operator</div><div class="line">games</div><div class="line">nobody</div></pre></td></tr></table></figure></p>
<p>首先，我们要用vsftp 访问我们的服务器。</p>
<p>我们可以，把/etc/vsftpd/ftpusers 中的root 用户注释掉，这样可以用root用户访问我们的根目录<br>优缺点：<br>root 用户访问vsftp 这样是不安全的，他能访问OS中任意的目录。</p>
<p>接着，我们根据上面的设置做一些修改</p>
<ul>
<li>1）增加FTP帐户</li>
</ul>
<figure class="highlight d"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">useradd <span class="built_in">cent</span> -s /sbin/nologin</div><div class="line">passwd cent123456</div><div class="line">提示输入密码：cent123456 <span class="comment">// 自己修改为自己的密码</span></div></pre></td></tr></table></figure>
<ul>
<li>2)建立我们的根目录，并设置访问权限</li>
</ul>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">mkdir</span> /<span class="built_in">var</span>/public_root</div><div class="line">chown -R cent /<span class="built_in">var</span>/public_root</div><div class="line">chmod -R <span class="number">755</span> /<span class="built_in">var</span>/public_root</div></pre></td></tr></table></figure>
<ul>
<li>3)配置vsftpd.conf文件<figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># Example config file /etc/vsftpd/vsftpd.conf</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># The default compiled in settings are fairly paranoid. This sample file</span></div><div class="line"><span class="meta"># loosens things up a bit, to make the ftp daemon more usable.</span></div><div class="line"><span class="meta"># Please see vsftpd.conf.5 for all compiled in defaults.</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># READ THIS: This example file is NOT an exhaustive list of vsftpd options.</span></div><div class="line"><span class="meta"># Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd's</span></div><div class="line"><span class="meta"># capabilities.</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Allow anonymous FTP? (Beware - allowed by default if you comment this out).</span></div><div class="line"><span class="meta">#anonymous_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this to allow local users to log in.</span></div><div class="line"><span class="meta"># When SELinux is enforcing check for SE bool ftp_home_dir</span></div><div class="line">local_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this to enable any form of FTP write command.</span></div><div class="line">write_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Default umask for local users is 077. You may wish to change this to 022,</span></div><div class="line"><span class="meta"># if your users expect that (022 is used by most other ftpd's)</span></div><div class="line">local_umask=<span class="number">022</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this to allow the anonymous FTP user to upload files. This only</span></div><div class="line"><span class="meta"># has an effect if the above global write enable is activated. Also, you will</span></div><div class="line"><span class="meta"># obviously need to create a directory writable by the FTP user.</span></div><div class="line"><span class="meta"># When SELinux is enforcing check for SE bool allow_ftpd_anon_write, allow_ftpd_full_access</span></div><div class="line"><span class="meta">#anon_upload_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this if you want the anonymous FTP user to be able to create</span></div><div class="line"><span class="meta"># new directories.</span></div><div class="line"><span class="meta">#anon_mkdir_write_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Activate directory messages - messages given to remote users when they</span></div><div class="line"><span class="meta"># go into a certain directory.</span></div><div class="line">dirmessage_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Activate logging of uploads/downloads.</span></div><div class="line">xferlog_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Make sure PORT transfer connections originate from port 20 (ftp-data).</span></div><div class="line">connect_from_port_20=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># If you want, you can arrange for uploaded anonymous files to be owned by</span></div><div class="line"><span class="meta"># a different user. Note! Using "root" for uploaded files is not</span></div><div class="line"><span class="meta"># recommended!</span></div><div class="line"><span class="meta">#chown_uploads=YES</span></div><div class="line"><span class="meta">#chown_username=whoever</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may override where the log file goes if you like. The default is shown</span></div><div class="line"><span class="meta"># below.</span></div><div class="line"><span class="meta">#xferlog_file=/var/log/xferlog</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># If you want, you can have your log file in standard ftpd xferlog format.</span></div><div class="line"><span class="meta"># Note that the default log file location is /var/log/xferlog in this case.</span></div><div class="line">xferlog_std_format=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may change the default value for timing out an idle session.</span></div><div class="line">idle_session_timeout=<span class="number">600</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may change the default value for timing out a data connection.</span></div><div class="line">data_connection_timeout=<span class="number">120</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># It is recommended that you define on your system a unique user which the</span></div><div class="line"><span class="meta"># ftp server can use as a totally isolated and unprivileged user.</span></div><div class="line"><span class="meta">#nopriv_user=ftpsecure</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Enable this and the server will recognise asynchronous ABOR requests. Not</span></div><div class="line"><span class="meta"># recommended for security (the code is non-trivial). Not enabling it,</span></div><div class="line"><span class="meta"># however, may confuse older FTP clients.</span></div><div class="line"><span class="meta">#async_abor_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># By default the server will pretend to allow ASCII mode but in fact ignore</span></div><div class="line"><span class="meta"># the request. Turn on the below options to have the server actually do ASCII</span></div><div class="line"><span class="meta"># mangling on files when in ASCII mode.</span></div><div class="line"><span class="meta"># Beware that on some FTP servers, ASCII support allows a denial of service</span></div><div class="line"><span class="meta"># attack (DoS) via the command "SIZE /big/file" in ASCII mode. vsftpd</span></div><div class="line"><span class="meta"># predicted this attack and has always been safe, reporting the size of the</span></div><div class="line"><span class="meta"># raw file.</span></div><div class="line"><span class="meta"># ASCII mangling is a horrible feature of the protocol.</span></div><div class="line">ascii_upload_enable=YES</div><div class="line">ascii_download_enable=YES</div><div class="line"></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may fully customise the login banner string:</span></div><div class="line">ftpd_banner=Welcome to blah FTP service.</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may specify a file of disallowed anonymous e-mail addresses. Apparently</span></div><div class="line"><span class="meta"># useful for combatting certain DoS attacks.</span></div><div class="line"><span class="meta">#deny_email_enable=YES</span></div><div class="line"><span class="meta"># (default follows)</span></div><div class="line"><span class="meta">#banned_email_file=/etc/vsftpd/banned_emails</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may specify an explicit list of local users to chroot() to their home</span></div><div class="line"><span class="meta"># directory. If chroot_local_user is YES, then this list becomes a list of</span></div><div class="line"><span class="meta"># users to NOT chroot().</span></div><div class="line"><span class="meta"># (Warning! chroot'ing can be very dangerous. If using chroot, make sure that</span></div><div class="line"><span class="meta"># the user does not have write access to the top level directory within the</span></div><div class="line"><span class="meta"># chroot)</span></div><div class="line">chroot_local_user=YES</div><div class="line"><span class="meta">#chroot_list_enable=YES</span></div><div class="line"><span class="meta"># (default follows)</span></div><div class="line"><span class="meta">#chroot_list_file=/etc/vsftpd/chroot_list</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may activate the "-R" option to the builtin ls. This is disabled by</span></div><div class="line"><span class="meta"># default to avoid remote users being able to cause excessive I/O on large</span></div><div class="line"><span class="meta"># sites. However, some broken FTP clients such as "ncftp" and "mirror" assume</span></div><div class="line"><span class="meta"># the presence of the "-R" option, so there is a strong case for enabling it.</span></div><div class="line">ls_recurse_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># When "listen" directive is enabled, vsftpd runs in standalone mode and</span></div><div class="line"><span class="meta"># listens on IPv4 sockets. This directive cannot be used in conjunction</span></div><div class="line"><span class="meta"># with the listen_ipv6 directive.</span></div><div class="line">listen=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># This directive enables listening on IPv6 sockets. By default, listening</span></div><div class="line"><span class="meta"># on the IPv6 "any" address (::) will accept connections from both IPv6</span></div><div class="line"><span class="meta"># and IPv4 clients. It is not necessary to listen on *both* IPv4 and IPv6</span></div><div class="line"><span class="meta"># sockets. If you want that (perhaps because you want to listen on specific</span></div><div class="line"><span class="meta"># addresses) then you must run two copies of vsftpd with two configuration</span></div><div class="line"><span class="meta"># files.</span></div><div class="line"><span class="meta"># Make sure, that one of the listen options is commented !!</span></div><div class="line">listen_ipv6=NO</div><div class="line"></div><div class="line">pam_service_name=vsftpd</div><div class="line">userlist_enable=YES</div><div class="line">userlist_deny=NO</div><div class="line">local_root=/<span class="keyword">var</span>/public_root</div><div class="line">tcp_wrappers=YES</div><div class="line">use_localtime=YES</div><div class="line"><span class="string">"/etc/vsftpd/vsftpd.conf"</span> <span class="number">131</span>L, <span class="number">5088</span>C written</div><div class="line">[root@vhost<span class="number">-01</span> cent]# systemctl start vsftpd</div><div class="line">[root@vhost<span class="number">-01</span> cent]# cat /etc/vsftpd/vsftpd.conf</div><div class="line"><span class="meta"># Example config file /etc/vsftpd/vsftpd.conf</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># The default compiled in settings are fairly paranoid. This sample file</span></div><div class="line"><span class="meta"># loosens things up a bit, to make the ftp daemon more usable.</span></div><div class="line"><span class="meta"># Please see vsftpd.conf.5 for all compiled in defaults.</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># READ THIS: This example file is NOT an exhaustive list of vsftpd options.</span></div><div class="line"><span class="meta"># Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd's</span></div><div class="line"><span class="meta"># capabilities.</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Allow anonymous FTP? (Beware - allowed by default if you comment this out).</span></div><div class="line"><span class="meta">#anonymous_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this to allow local users to log in.</span></div><div class="line"><span class="meta"># When SELinux is enforcing check for SE bool ftp_home_dir</span></div><div class="line">local_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this to enable any form of FTP write command.</span></div><div class="line">write_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Default umask for local users is 077. You may wish to change this to 022,</span></div><div class="line"><span class="meta"># if your users expect that (022 is used by most other ftpd's)</span></div><div class="line">local_umask=<span class="number">022</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this to allow the anonymous FTP user to upload files. This only</span></div><div class="line"><span class="meta"># has an effect if the above global write enable is activated. Also, you will</span></div><div class="line"><span class="meta"># obviously need to create a directory writable by the FTP user.</span></div><div class="line"><span class="meta"># When SELinux is enforcing check for SE bool allow_ftpd_anon_write, allow_ftpd_full_access</span></div><div class="line"><span class="meta">#anon_upload_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Uncomment this if you want the anonymous FTP user to be able to create</span></div><div class="line"><span class="meta"># new directories.</span></div><div class="line"><span class="meta">#anon_mkdir_write_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Activate directory messages - messages given to remote users when they</span></div><div class="line"><span class="meta"># go into a certain directory.</span></div><div class="line">dirmessage_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Activate logging of uploads/downloads.</span></div><div class="line">xferlog_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Make sure PORT transfer connections originate from port 20 (ftp-data).</span></div><div class="line">connect_from_port_20=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># If you want, you can arrange for uploaded anonymous files to be owned by</span></div><div class="line"><span class="meta"># a different user. Note! Using "root" for uploaded files is not</span></div><div class="line"><span class="meta"># recommended!</span></div><div class="line"><span class="meta">#chown_uploads=YES</span></div><div class="line"><span class="meta">#chown_username=whoever</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may override where the log file goes if you like. The default is shown</span></div><div class="line"><span class="meta"># below.</span></div><div class="line"><span class="meta">#xferlog_file=/var/log/xferlog</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># If you want, you can have your log file in standard ftpd xferlog format.</span></div><div class="line"><span class="meta"># Note that the default log file location is /var/log/xferlog in this case.</span></div><div class="line">xferlog_std_format=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may change the default value for timing out an idle session.</span></div><div class="line">idle_session_timeout=<span class="number">600</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may change the default value for timing out a data connection.</span></div><div class="line">data_connection_timeout=<span class="number">120</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># It is recommended that you define on your system a unique user which the</span></div><div class="line"><span class="meta"># ftp server can use as a totally isolated and unprivileged user.</span></div><div class="line"><span class="meta">#nopriv_user=ftpsecure</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># Enable this and the server will recognise asynchronous ABOR requests. Not</span></div><div class="line"><span class="meta"># recommended for security (the code is non-trivial). Not enabling it,</span></div><div class="line"><span class="meta"># however, may confuse older FTP clients.</span></div><div class="line"><span class="meta">#async_abor_enable=YES</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># By default the server will pretend to allow ASCII mode but in fact ignore</span></div><div class="line"><span class="meta"># the request. Turn on the below options to have the server actually do ASCII</span></div><div class="line"><span class="meta"># mangling on files when in ASCII mode.</span></div><div class="line"><span class="meta"># Beware that on some FTP servers, ASCII support allows a denial of service</span></div><div class="line"><span class="meta"># attack (DoS) via the command "SIZE /big/file" in ASCII mode. vsftpd</span></div><div class="line"><span class="meta"># predicted this attack and has always been safe, reporting the size of the</span></div><div class="line"><span class="meta"># raw file.</span></div><div class="line"><span class="meta"># ASCII mangling is a horrible feature of the protocol.</span></div><div class="line">ascii_upload_enable=YES</div><div class="line">ascii_download_enable=YES</div><div class="line"></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may fully customise the login banner string:</span></div><div class="line">ftpd_banner=Welcome to blah FTP service.</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may specify a file of disallowed anonymous e-mail addresses. Apparently</span></div><div class="line"><span class="meta"># useful for combatting certain DoS attacks.</span></div><div class="line"><span class="meta">#deny_email_enable=YES</span></div><div class="line"><span class="meta"># (default follows)</span></div><div class="line"><span class="meta">#banned_email_file=/etc/vsftpd/banned_emails</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may specify an explicit list of local users to chroot() to their home</span></div><div class="line"><span class="meta"># directory. If chroot_local_user is YES, then this list becomes a list of</span></div><div class="line"><span class="meta"># users to NOT chroot().</span></div><div class="line"><span class="meta"># (Warning! chroot'ing can be very dangerous. If using chroot, make sure that</span></div><div class="line"><span class="meta"># the user does not have write access to the top level directory within the</span></div><div class="line"><span class="meta"># chroot)</span></div><div class="line">chroot_local_user=YES</div><div class="line"><span class="meta">#chroot_list_enable=YES</span></div><div class="line"><span class="meta"># (default follows)</span></div><div class="line"><span class="meta">#chroot_list_file=/etc/vsftpd/chroot_list</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># You may activate the "-R" option to the builtin ls. This is disabled by</span></div><div class="line"><span class="meta"># default to avoid remote users being able to cause excessive I/O on large</span></div><div class="line"><span class="meta"># sites. However, some broken FTP clients such as "ncftp" and "mirror" assume</span></div><div class="line"><span class="meta"># the presence of the "-R" option, so there is a strong case for enabling it.</span></div><div class="line">ls_recurse_enable=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># When "listen" directive is enabled, vsftpd runs in standalone mode and</span></div><div class="line"><span class="meta"># listens on IPv4 sockets. This directive cannot be used in conjunction</span></div><div class="line"><span class="meta"># with the listen_ipv6 directive.</span></div><div class="line">listen=YES</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># This directive enables listening on IPv6 sockets. By default, listening</span></div><div class="line"><span class="meta"># on the IPv6 "any" address (::) will accept connections from both IPv6</span></div><div class="line"><span class="meta"># and IPv4 clients. It is not necessary to listen on *both* IPv4 and IPv6</span></div><div class="line"><span class="meta"># sockets. If you want that (perhaps because you want to listen on specific</span></div><div class="line"><span class="meta"># addresses) then you must run two copies of vsftpd with two configuration</span></div><div class="line"><span class="meta"># files.</span></div><div class="line"><span class="meta"># Make sure, that one of the listen options is commented !!</span></div><div class="line">listen_ipv6=NO</div><div class="line"></div><div class="line">pam_service_name=vsftpd</div><div class="line">userlist_enable=YES</div><div class="line">userlist_deny=NO</div><div class="line">local_root=/<span class="keyword">var</span>/public_root</div><div class="line">tcp_wrappers=YES</div><div class="line">use_localtime=YES</div></pre></td></tr></table></figure>
</li>
</ul>
<p>主要做了以下几处修改：<br>1）把原来的允许匿名访问，改为不允许<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#anonymous_enable=YES</span></div></pre></td></tr></table></figure></p>
<p>2) 设置空闲回话时间为600，就中断，原来设注释默认没有过期的会话<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">idle_session_timeout</span>=<span class="number">600</span></div></pre></td></tr></table></figure></p>
<p>3）设置回话连接的时间为120，12毫秒连不上，就取消连接访问<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">data_connection_timeout</span>=<span class="number">120</span></div></pre></td></tr></table></figure></p>
<p>4）开启ascii 上传/下载的声明<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attr">ascii_upload_enable</span>=<span class="literal">YES</span></div><div class="line"><span class="attr">ascii_download_enable</span>=<span class="literal">YES</span></div></pre></td></tr></table></figure></p>
<p>5) 开启声明连接访问成功的 欢迎信息<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">ftpd_banner</span>=Welcome to lightnear FTP service.</div></pre></td></tr></table></figure></p>
<p>6）声明chroot_local_user=YES 现在ftp访问用户限制在自己的家目录<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">chroot_local_user</span>=<span class="literal">YES</span></div></pre></td></tr></table></figure></p>
<p>7）声明 ls_recurse_enable=YES 允许远程ls操作<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">ls_recurse_enable</span>=<span class="literal">YES</span></div></pre></td></tr></table></figure></p>
<p>8）声明listen=YES ，ipv4监听<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">listen</span>=<span class="literal">YES</span></div></pre></td></tr></table></figure></p>
<p>9）不声明 listen_ipv6 监听<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#listen_ipv6=YES</span></div></pre></td></tr></table></figure></p>
<p>10）声明userlist_deny=NO ，只运行/etc/vsftpd/user_list 下的白名单用户可以访问<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">userlist_deny</span>=<span class="literal">NO</span></div></pre></td></tr></table></figure></p>
<p>11）声明 root 访问的文件路径<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">local_root</span>=/var/public_root</div></pre></td></tr></table></figure></p>
<p>12）声明use_localtime=YES<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">use_localtime</span>=<span class="literal">YES</span></div></pre></td></tr></table></figure></p>
<ul>
<li>4）把cent 用添加到白名单中</li>
</ul>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vi <span class="meta-keyword">/etc/</span>vsftpd/user_list</div></pre></td></tr></table></figure>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"># vsftpd userlist</div><div class="line"># <span class="keyword">If</span> userlist_deny=NO, only allow users <span class="keyword">in</span> this <span class="keyword">file</span></div><div class="line"># <span class="keyword">If</span> userlist_deny=YES (<span class="keyword">default</span>), never allow users <span class="keyword">in</span> this <span class="keyword">file</span>, <span class="keyword">and</span></div><div class="line"># <span class="keyword">do</span> <span class="keyword">not</span> even prompt <span class="keyword">for</span> a password.</div><div class="line"># Note that the <span class="keyword">default</span> vsftpd pam config also checks /etc/vsftpd/ftpusers</div><div class="line"># <span class="keyword">for</span> users that are denied.</div><div class="line">root</div><div class="line">bin</div><div class="line">daemon</div><div class="line">adm</div><div class="line">lp</div><div class="line">sync</div><div class="line">shutdown</div><div class="line">halt</div><div class="line">mail</div><div class="line">news</div><div class="line">uucp</div><div class="line">operator</div><div class="line">games</div><div class="line">nobody</div><div class="line">cent</div></pre></td></tr></table></figure>
<p>开启vsftpd服务<br>service vsftpd start</p>
<p>默认开启vsftp 服务器<br>chkconfig vsftpd on<br>chkconfig –list //查看</p>
<p>vsftpd: unrecognized service #找不到vsftpd<br>/sbin/service vsftpd start<br>或<br>systemctl start vsftpd</p>
<p>查看 vsftpd 进程<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ps</span> auxf | <span class="keyword">grep</span> vsftpd</div></pre></td></tr></table></figure></p>
<p>vsftpd: unrecognized service #找不到vsftpd记住，在卸载vsftpd之前，先停止vsftpd。</p>
<p>用Fizle 访问,注意，要ssh协议访问<br><img src="/images/20160822.png" alt="Filze" title="Optional title"></p>
<p>如果是多用户，你可以任意添加，并指定目录</p>
<h3 id="那些偷师的地方"><a href="#那些偷师的地方" class="headerlink" title="那些偷师的地方"></a>那些偷师的地方</h3><p><a href="http://www.jb51.net/article/47795.htm" target="_blank" rel="external">http://www.jb51.net/article/47795.htm</a><br><a href="http://blog.chinaunix.net/uid-7271021-id-3086186.html" target="_blank" rel="external">http://blog.chinaunix.net/uid-7271021-id-3086186.html</a><br><a href="http://www.centoscn.com/image-text/install/2014/0827/3585.html" target="_blank" rel="external">http://www.centoscn.com/image-text/install/2014/0827/3585.html</a><br><a href="http://www.jb51.net/LINUXjishu/131972.html" target="_blank" rel="external">http://www.jb51.net/LINUXjishu/131972.html</a><br><a href="https://segmentfault.com/a/1190000002475493" target="_blank" rel="external">https://segmentfault.com/a/1190000002475493</a><br><a href="http://www.centoscn.com/CentosBug/osbug/2014/0916/3750.html" target="_blank" rel="external">http://www.centoscn.com/CentosBug/osbug/2014/0916/3750.html</a></p>
<p>如果有疑问，可以到这里提出：<br><a href="https://github.com/RiXiong/RiXiong.github.io/issues/2" target="_blank" rel="external"><h1 style="text-align:center;border-bottom:3px solid #333;border-top:3px solid #333;margin:0 auto;width:400px;">想向我提问，那就点击我吧</h1></a></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2016/08/20/centos-faq/" data-id="ciscuwc5h0002a08q89gh62ub" class="article-share-link">分享到</a><div class="tags"><a href="/tags/架构/">架构</a></div><div class="post-nav"><a href="/2016/08/26/javaAnnotaion/" class="pre">细说JAVA注解</a><a href="/2016/08/20/virtualBox-network/" class="next">VirtualBox的网络设置（6中方式）</a></div><div data-thread-key="2016/08/20/centos-faq/" data-title="遇到的那些坑" data-url="http://yoursite.com/2016/08/20/centos-faq/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2016/08/20/centos-faq/" data-title="遇到的那些坑" data-url="http://yoursite.com/2016/08/20/centos-faq/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"></div><div style="text-align:center"> <p>关注灯塔公众号</p><img src="/img/qrcode.jpg" style="height:150px;width:150px;margin:0 auto;"/></div><a href="https://github.com/RiXiong/RiXiong.github.io" target="_blank"><i style="margin:20px 10px;" class="fa fa-github fa-lg"></i></a><a href="http://www.weibo.com/p/1005053099694953/home?is_all=1" target="_blank"><i style="margin:20px 10px;" class="fa fa-weibo fa-lg"></i></a><a href="http://stackoverflow.com/users/6120953/beacon" target="_blank"><i style="margin:20px 10px;" class="fa fa-stack-overflow fa-lg"></i></a><a href="http://git.oschina.net/RiceZhang" target="_blank"><i style="margin:20px 10px;" class="fa fa-git fa-lg"></i></a><a href="http://jm.taobao.org/" target="_blank"><i style="margin:20px 10px;" class="fa fa-linkedin fa-lg"></i></a><a href="https://leetcode.com/progress/" target="_blank"><i style="margin:20px 5px;" class="fa fa-code fa-lg">   </i></a><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/emotion/">emotion</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/technology/">technology</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/test/">test</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/架构/" style="font-size: 15px;">架构</a> <a href="/tags/emotion/" style="font-size: 15px;">emotion</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/spring-boot/" style="font-size: 15px;">spring-boot</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/test/" style="font-size: 15px;">test</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/08/27/mysql-cluster-installation/">mysql集群安装（译文）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/26/javaAnnotaion/">细说JAVA注解</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/20/centos-faq/">遇到的那些坑</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/20/virtualBox-network/">VirtualBox的网络设置（6中方式）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/17/webpack01/">webpack入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/14/website01/">单机架构的那些事儿</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/14/website/">大型网站系统架构的演化</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/13/sprint-boot01/">sprint-boot简介</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/10/target/">心之所向</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/08/emotion/">我正走在路上...,路还很远</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://jm.taobao.org/" title="阿里中间件团队" target="_blank">阿里中间件团队</a><ul></ul><a href="http://blog.csdn.net/a82793510" title="灯塔CSDN‘S Blog" target="_blank">灯塔CSDN‘S Blog</a><ul></ul><a href="https://book.douban.com/people/70223287/" title="灯塔的书单" target="_blank">灯塔的书单</a><ul></ul><a href="https://leetcode.com/subscribe/" title="leetcode" target="_blank">leetcode</a><ul></ul><a href="http://www.ruanyifeng.com/home.html" title="阮老大博客" target="_blank">阮老大博客</a><ul></ul><a href="http://www.dutor.net/" title="甘雨" target="_blank">甘雨</a><ul></ul><a href="http://zz563143188.iteye.com/blog/1877266" title="张林" target="_blank">张林</a><ul></ul><a href="http://brokendreams.iteye.com/blog/2252344" title="大飞" target="_blank">大飞</a><ul></ul><a href="http://calvin1978.blogcn.com/" title="江南白衣" target="_blank">江南白衣</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">灯塔.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> 灯塔.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'jbeacon'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?7c70667dfc725fbb97a2be3ace8d01de";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>